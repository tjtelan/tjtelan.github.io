<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
	<title>T.J. Telan - bsd</title>
	<subtitle>Practical DevOps &amp; Developer Experience</subtitle>
	<link href="https://tjtelan.com/tags/bsd/atom.xml" rel="self" type="application/atom+xml"/>
	<link href="https://tjtelan.com"/>
	<generator uri="https://www.getzola.org/">Zola</generator>
	<updated>2011-08-31T00:00:00+00:00</updated>
	<id>https://tjtelan.com/tags/bsd/atom.xml</id>
	<entry xml:lang="en">
		<title>Tarball xz</title>
		<published>2011-08-31T00:00:00+00:00</published>
		<updated>2011-08-31T00:00:00+00:00</updated>
		<link href="https://tjtelan.com/blog/tarball-xz/" type="text/html"/>
		<id>https://tjtelan.com/blog/tarball-xz/</id>
		<content type="html">&lt;p&gt;At work I manage a handful of servers running FreeBSD. Today I was writing a little backup script where I wanted the output to be an xz compressed tarball.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Xz&quot;&gt;Link to xz Wikipedia article&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Arch Linux&#x27;s packages are delivered as tar.xz, and the compression rate is better than gzip and bzip2.&lt;&#x2F;p&gt;
&lt;p&gt;I thought this was going to be pretty straightforward, but I was mistaken. Turns out that the BSD tar implementation of tar does not transparently support xz compression in the same way GNU tar implements it. (I&#x27;m not saying that it isn&#x27;t supported, but -z gzip &#x2F; -j bzip2 &#x2F; -J xz is easier to remember).&lt;&#x2F;p&gt;
&lt;p&gt;Being in a particularly untrusting mood towards tar, I figured I would write a portable one-liner that I could use on work servers and on my workstation.&lt;&#x2F;p&gt;
&lt;p&gt;Here goes...&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;tar -cf&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; - {PATH_TO_ARCHIVE} | &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;xz -2ec &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;gt; {PATH_TO_SAVE_TARBALL}.tar.xz
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;[&lt;code&gt;-2ec&lt;&#x2F;code&gt; refers to extreme compression level 2, which works for me in this case. Refer to the xz manpage for more info.]&lt;&#x2F;p&gt;
</content>
	</entry>
</feed>
